<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <title>Curso JavaScript Completo</title>
    <script>
        // escopo global
        var nome = 'wellington felix';

        function exibeNome() {
            // escopo local
            console.log('o nome é: ', nome);
        }

        exibeNome();

        /* ----------------------------------- */

        // escopo global
        var numero = 1;

        function exibeNumero() {
            // escopo local
            var numero = 2;

            console.log('o número dentro da função é: ', numero);
        }

        console.log('o número fora da função é: ', numero);
        exibeNumero();

        /* ----------------------------------- */

        // Função autoexecutável - IIFE
        (function () {
            // comando que impede a criação de variáveis sem o comando var
            'use strict';
            
            // escopo local
            var sobrenome = 'felix';

            function exibeSobrenome() {
                console.log('o sobrenome é: ', sobrenome);
            }

            exibeSobrenome();
        })();

        console.log(sobrenome);
    </script>
</head>

<body>
    <h1>Curso JavaScript Completo</h1>

    <h2>Escopo Global e Escopo Local</h2>
    <p>
        Em JavaScript qualquer variável criada fora do corpo de uma função possui escopo global, ou seja, essa variável
        poderá ser acessada através do objeto principal <strong>window</strong>. As variáveis com escopo global podem
        ser acessadas dentro de uma função sem a necessidade do comando <strong>var</strong>, pode-se apenas chamar o
        nome da variável declarada no escopo gloabal e seu valor poderá ser alterado dentro da função. Já as variáveis
        criadas dentro do corpo de uma função possui escopo local, nesse caso, essas variáveis só existem dentro da
        função e enquanto essa estiver sendo executada, ao término da execução as variáveis com escopo local serão
        deletadas.
    </p>

    <h2>Funções AutoExecutáveis - IIFE</h2>
    <p>
        Em JavaScript podemos usar o conceito de <strong>Funções Auto Executáveis</strong> <em>(Immediately-invoked
            function expression)</em> que evita a poluição do objeto <strong>window</strong> com variáveis globais,
        utilizando esse conceito em seus scripts todas as variáveis terão escopo local e evitará possivéis conflitos com
        mesmos nomes de variáveis no escopo global em diferentes scripts. Para isso, é necessário criar uma função
        anônima envolta por dois parênteses e ao final do parênteses de fechamento, usamos mais dois parênteses
        indicando que estamos executando essa função quando o script for iniciado.
    </p>
    <p>
        <code>
            &lt;<strong>script</strong>&gt;<br>
            &nbsp;// Função anônima autoexecutável<br>
            &nbsp;(<strong>function</strong>() {<br>
                &nbsp;&nbsp;<strong>var</strong> nome = 'wellington felix';<br>

                &nbsp;&nbsp;console.log(nome);
            &nbsp;})();<br>
            &lt;/<strong>script</strong>&gt;
        </code>
    </p>
</body>

</html>